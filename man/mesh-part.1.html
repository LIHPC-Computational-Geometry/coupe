<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   Generated by scdoc 1.11.2
   Complete documentation for this program is not available as a GNU info page
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="man.css" type="text/css" media="all"/>
  <title>mesh-part(1)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">mesh-part(1)</td>
    <td class="head-vol">General Commands Manual</td>
    <td class="head-rtitle">mesh-part(1)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">mesh-part - Partition a mesh</p>
<p class="Pp">part-bench - Benchmark an algorithm</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>mesh-part</b> [options...] [output.part]</p>
<p class="Pp"><b>part-bench</b> [options...]</p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">mesh-part applies partitioning algorithms onto a given mesh in
    order, and outputs the resulting partition.</p>
<p class="Pp">If output.part is omitted or is -, it is written to standard
    output.</p>
<p class="Pp">part-bench benchmarks the speed of the given algorithms and prints
    the results.</p>
<p class="Pp">Only some specific mesh formats are supported. See
    <a href="apply-part.1.html"><b>apply-part</b>(1)</a>'s <b>INPUT</b> <b>FORMAT</b> for details.</p>
<p class="Pp">See <b>ALGORITHMS</b> for a list of supported algorithms.</p>
<p class="Pp">See <b>PARTITION FILE</b> for a description of the output format
    of mesh-part.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<p class="Pp"><b>-h, --help</b></p>
<div class="Bd-indent">Show a help message and exit.</div>
<p class="Pp"><b>--version</b></p>
<div class="Bd-indent">Show version information and exit.</div>
<p class="Pp"><b>-a, --algorithm</b> &lt;spec&gt;</p>
<div class="Bd-indent">Apply the given algorithm on the mesh. This option can be
  specified multiple times, so that algorithms can be chained together. See
  <b>ALGORITHMS</b> for information on the <i>spec</i> argument and a list of
  supported algorithms.</div>
<p class="Pp"><b>-E, --edge-weights</b> &lt;variant&gt;</p>
<div class="Bd-indent">Change how edge weights are set. Possible values are:
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<i>uniform</i> (default): all edges have the same
  weight,</div>
<div class="Bd-indent">&#x2022;<i>linear</i>: edge weights are the sum of the
  vertex weights,</div>
<div class="Bd-indent">&#x2022;<i>sqrt</i>: edge weights are the sum of the
  vertex weights' square roots.
<p class="Pp"></p>
</div>
</div>
<p class="Pp"><b>-m, --mesh</b> &lt;path&gt;</p>
<div class="Bd-indent">Required. Partition the given mesh file.</div>
<p class="Pp"><b>-w, --weights</b> &lt;path&gt;</p>
<div class="Bd-indent">Use the given weight file. This file is expected to come
  from <a href="weight-gen.1.html"><b>weight-gen</b>(1)</a> with the same mesh.</div>
<p class="Pp">Options specific to <b>mesh-part</b>:</p>
<p class="Pp"><b>-t, --trace</b> &lt;path&gt;</p>
<div class="Bd-indent">Emits a trace file viewable in &lt;chrome://tracing&gt;
  or any compatible viewer. The LOG environment variable must be
  specified.</div>
<p class="Pp">Options specific to <b>part-bench</b>:</p>
<p class="Pp"><b>-e, --efficiency</b> [threads]</p>
<div class="Bd-indent">Measure strong scaling by running the algorithm with
  different amounts of threads.
<p class="Pp">By default, part-bench starts at 1 thread, then doubles the thread
    count until it exceeds the number of available hardware threads.</p>
<p class="Pp">You can specify arbitrary thread counts in the following
  manner:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>threads = range *( , range )
range   = VALUE / ( FROM : TO ) / ( FROM : TO : STEP )</pre>
</div>
<p class="Pp">For example, the following invocation will run the algorithms for
    1 thread, then 2, 6, 10, ... to 64, then 72, 80, 88, ... to 256.</p>
<p class="Pp"></p>
<div class="Bd-indent">part-bench -e 1,2:64:4,64:256:8,256</div>
<p class="Pp">Ranges are exclusive.</p>
</div>
<p class="Pp"><b>-b, --baseline</b> &lt;name&gt;
  <br/>
  <b>-s, --save-baseline</b> &lt;name&gt;</p>
<div class="Bd-indent">Compare against a named baseline. If
  <b>--save-baseline</b> is specified, the results of the benchmark will be
  saved and overwrite the previous ones.</div>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT_VARIABLES"><a class="permalink" href="#ENVIRONMENT_VARIABLES">ENVIRONMENT
  VARIABLES</a></h1>
<p class="Pp">Users can use environment variables to alter the execution of
    these programs:</p>
<p class="Pp"></p>
<div class="Bd-indent">&#x2022;<i>LOG=coupe</i>, for mesh-part, enable debug
  algorithm logging of coupe's algorithms,</div>
<div class="Bd-indent">&#x2022;<i>RAYON_NUM_THREADS=n</i> restricts the maximum
  number of threads to <i>n</i>.
<p class="Pp"></p>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="ALGORITHMS"><a class="permalink" href="#ALGORITHMS">ALGORITHMS</a></h1>
<p class="Pp">The option <b>-a, --algorithm</b> defines an algorithm used to
    partition the input mesh. It can be specified multiple times to chain
    algorithms.</p>
<p class="Pp">If a partition improving algorithm is in the begining of the
    chain, it will be fed a default partition where all weights are in the same
    part.</p>
<p class="Pp">For example,</p>
<p class="Pp"></p>
<div class="Bd-indent">mesh-part --algorithm hilbert,4 --algorithm fm,0.05</div>
<p class="Pp">Miscellaneous partitioning algorithms:</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>random</b>,PART_COUNT,[SEED=0]
<div class="Bd-indent">Creates a random partition</div>
</div>
<p class="Pp">Number partitioning algorithms:
  <br/>
  These algorithms create partitions by only taking weights into account.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>greedy</b>,PART_COUNT
<div class="Bd-indent">Greedy number partitioning algorithm</div>
<p class="Pp"><b>kk</b>,PART_COUNT</p>
<div class="Bd-indent">Karmarkar-Karp, Least Difference Method</div>
<p class="Pp"><b>ckk</b>,TOLERANCE</p>
<div class="Bd-indent">Complete Karmarkar-Karp</div>
</div>
<p class="Pp">Number partition improving algorithms:
  <br/>
  These algorithms improve partitions by only taking weights into account.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>vn-best</b>
<div class="Bd-indent">Steepest descent Vector of Numbers algorithm</div>
<p class="Pp"><b>vn-first</b></p>
<div class="Bd-indent">Descent Vector of Numbers algorithm</div>
</div>
<p class="Pp">Geometric partitioning algorithms:
  <br/>
  These algorithms create partitions using cell coordinates.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>rcb</b>,PART_COUNT,[TOLERANCE=0.05]
<div class="Bd-indent">Recursive Coordinate Biscection</div>
<p class="Pp"><b>hilbert</b>,PART_COUNT,[ORDER=12]</p>
<div class="Bd-indent">Hilbert Curve</div>
</div>
<p class="Pp">Geometric partition improving algorithms:
  <br/>
  These algorithms improve partitions using cell coordinates.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>kmeans</b>
<div class="Bd-indent">Balanced k-means.</div>
</div>
<p class="Pp">Graph partition improving algorithms:
  <br/>
  These algorithms improve partitions using the topology of the mesh.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>fm</b>,[args...]
<div class="Bd-indent">Fidducia-Mattheyses algorithm. Arguments (in this order):
<div class="Bd-indent">&#x2022;MAX_IMBALANCE (default: initial imbalance)</div>
<div class="Bd-indent">&#x2022;MAX_BAD_MOVES_IN_A_ROW (default: 0)</div>
<div class="Bd-indent">&#x2022;MAX_PASSES (default: 0, i.e. UINTPTR_MAX)</div>
<div class="Bd-indent">&#x2022;MAX_MOVES_PER_PASS (default: 0, i.e. UINTPTR_MAX)
<p class="Pp"></p>
</div>
</div>
<p class="Pp"><b>arcswap</b>,[MAX_IMBALANCE]</p>
<div class="Bd-indent">Multi-threaded, FM-like algorithm. By default this will
  not worsen the imbalance.</div>
<p class="Pp"><b>kl</b>,[MAX_BAD_MOVES_IN_A_ROW=1]</p>
<div class="Bd-indent">Kernighan-Lin algorithm</div>
</div>
<p class="Pp">METIS partitioning algorithms:
  <br/>
  These algorithms require <b>mesh-part</b> to be built with METIS support.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>metis:recursive</b>,PART_COUNT
<div class="Bd-indent">METIS's recursive graph partitioning.</div>
<p class="Pp"><b>metis:kway</b>,PART_COUNT</p>
<div class="Bd-indent">METIS's kway graph partitioning.</div>
</div>
<p class="Pp">SCOTCH partitioning algorithms:
  <br/>
  These algorithms require <b>mesh-part</b> to be built with SCOTCH support.</p>
<p class="Pp"></p>
<div class="Bd-indent"><b>scotch:std</b>,PART_COUNT
<div class="Bd-indent">The default partitioning algorithm from SCOTCH.</div>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="PARTITION_FILE"><a class="permalink" href="#PARTITION_FILE">PARTITION
  FILE</a></h1>
<p class="Pp">A partition file is a binary file that consists of a header
    followed by a list of part IDs. Below is the ABNF representation of the
    file:</p>
<p class="Pp"></p>
<div class="Bd-indent">
<pre>file     = magic id-count ids
magic    = %x4d %x65 %x50 %x65  ; &quot;MePe&quot;
id-count = U64                  ; Number of weights
ids      = *U64                 ; id-count weights</pre>
</div>
<p class="Pp">where <i>U64</i> is a little-endian 8-byte unsigned integer.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a href="apply-part.1.html"><b>apply-part</b>(1)</a> <a href="part-info.1.html"><b>part-info</b>(1)</a> <a href="weight-gen.1.html"><b>weight-gen</b>(1)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">This executable is part of coupe, which is maintained by Hubert
    Hirtz &lt;hubert@hirtz.pm&gt; under the direction of Franck Ledoux
    &lt;franck.ledoux@cea.fr&gt; and the supervision of C&#x00E9;dric Chevalier
    &lt;cedric.chevalier@cea.fr&gt; and S&#x00E9;bastien Morais
    &lt;sebastien.morais@cea.fr&gt;.</p>
<p class="Pp">For more information on coupe development, see
    &lt;https://github.com/LIHPC-Computational-Geometry/coupe&gt;.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">2024-02-06</td>
    <td class="foot-os"></td>
  </tr>
</table>
</body>
</html>
